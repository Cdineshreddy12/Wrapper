{
  "id": "f26ae2ba-736f-45d3-a21b-f4d44ce55c0a",
  "prevId": "7f35fd36-13db-4176-89c5-e6cb9ef98ca4",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "onboarding_events": {
      "name": "onboarding_events",
      "schema": "",
      "columns": {
        "event_id": {
          "name": "event_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_phase": {
          "name": "event_phase",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_action": {
          "name": "event_action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "time_spent": {
          "name": "time_spent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_rate": {
          "name": "completion_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "variant_id": {
          "name": "variant_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "experiment_id": {
          "name": "experiment_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "event_timestamp": {
          "name": "event_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "onboarding_events_tenant_id_tenants_tenant_id_fk": {
          "name": "onboarding_events_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "onboarding_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tenant_invitations": {
      "name": "tenant_invitations",
      "schema": "",
      "columns": {
        "invitation_id": {
          "name": "invitation_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "invitation_token": {
          "name": "invitation_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "invitation_url": {
          "name": "invitation_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_invitations_tenant_id_tenants_tenant_id_fk": {
          "name": "tenant_invitations_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "tenant_invitations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenant_invitations_invitation_token_unique": {
          "name": "tenant_invitations_invitation_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invitation_token"
          ]
        }
      }
    },
    "tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "company_name": {
          "name": "company_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subdomain": {
          "name": "subdomain",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "kinde_org_id": {
          "name": "kinde_org_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "admin_email": {
          "name": "admin_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "legal_company_name": {
          "name": "legal_company_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "gstin": {
          "name": "gstin",
          "type": "varchar(15)",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_street": {
          "name": "billing_street",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_city": {
          "name": "billing_city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_state": {
          "name": "billing_state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_zip": {
          "name": "billing_zip",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_country": {
          "name": "billing_country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "default_language": {
          "name": "default_language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "default_locale": {
          "name": "default_locale",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en-US'"
        },
        "default_currency": {
          "name": "default_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "default_timezone": {
          "name": "default_timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#2563eb'"
        },
        "custom_domain": {
          "name": "custom_domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "branding_config": {
          "name": "branding_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarded_at": {
          "name": "onboarded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_started_at": {
          "name": "onboarding_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_ends_at": {
          "name": "trial_ends_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_started_at": {
          "name": "trial_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "first_login_at": {
          "name": "first_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_subdomain_unique": {
          "name": "tenants_subdomain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "subdomain"
          ]
        },
        "tenants_kinde_org_id_unique": {
          "name": "tenants_kinde_org_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "kinde_org_id"
          ]
        }
      }
    },
    "audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "log_id": {
          "name": "log_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'direct'"
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_tenant_id_tenants_tenant_id_fk": {
          "name": "audit_logs_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_tenant_users_user_id_fk": {
          "name": "audit_logs_user_id_tenant_users_user_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_logs_organization_id_tenants_tenant_id_fk": {
          "name": "audit_logs_organization_id_tenants_tenant_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tenant_users": {
      "name": "tenant_users",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "kinde_user_id": {
          "name": "kinde_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar": {
          "name": "avatar",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "alias": {
          "name": "alias",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "mobile": {
          "name": "mobile",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "profile_data": {
          "name": "profile_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "primary_organization_id": {
          "name": "primary_organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_responsible_person": {
          "name": "is_responsible_person",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "admin_privileges": {
          "name": "admin_privileges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_tenant_admin": {
          "name": "is_tenant_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "login_count": {
          "name": "login_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarding_step": {
          "name": "onboarding_step",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_users_tenant_id_tenants_tenant_id_fk": {
          "name": "tenant_users_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "tenant_users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tenant_users_primary_organization_id_tenants_tenant_id_fk": {
          "name": "tenant_users_primary_organization_id_tenants_tenant_id_fk",
          "tableFrom": "tenant_users",
          "tableTo": "tenants",
          "columnsFrom": [
            "primary_organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_manager_relationships": {
      "name": "user_manager_relationships",
      "schema": "",
      "columns": {
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'direct'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_manager_relationships_tenant_id_tenants_tenant_id_fk": {
          "name": "user_manager_relationships_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "user_manager_relationships",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_manager_relationships_user_id_tenant_users_user_id_fk": {
          "name": "user_manager_relationships_user_id_tenant_users_user_id_fk",
          "tableFrom": "user_manager_relationships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_manager_relationships_manager_id_tenant_users_user_id_fk": {
          "name": "user_manager_relationships_manager_id_tenant_users_user_id_fk",
          "tableFrom": "user_manager_relationships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_token": {
          "name": "session_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "login_at": {
          "name": "login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_sessions_user_id_tenant_users_user_id_fk": {
          "name": "user_sessions_user_id_tenant_users_user_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_sessions_tenant_id_tenants_tenant_id_fk": {
          "name": "user_sessions_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "payment_id": {
          "name": "payment_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_charge_id": {
          "name": "stripe_charge_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_refund_id": {
          "name": "stripe_refund_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_dispute_id": {
          "name": "stripe_dispute_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "amount_refunded": {
          "name": "amount_refunded",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "amount_disputed": {
          "name": "amount_disputed",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method_details": {
          "name": "payment_method_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "payment_type": {
          "name": "payment_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false,
          "default": "'subscription'"
        },
        "billing_reason": {
          "name": "billing_reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proration_amount": {
          "name": "proration_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "refund_reason": {
          "name": "refund_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "refund_requested_by": {
          "name": "refund_requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_partial_refund": {
          "name": "is_partial_refund",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dispute_reason": {
          "name": "dispute_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "dispute_status": {
          "name": "dispute_status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "dispute_evidence_submitted": {
          "name": "dispute_evidence_submitted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "tax_region": {
          "name": "tax_region",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "processing_fees": {
          "name": "processing_fees",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_amount": {
          "name": "net_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fraud_details": {
          "name": "fraud_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "stripe_raw_data": {
          "name": "stripe_raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refunded_at": {
          "name": "refunded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "disputed_at": {
          "name": "disputed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "settled_at": {
          "name": "settled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payments_tenant_id_tenants_tenant_id_fk": {
          "name": "payments_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "payments",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payments_subscription_id_subscriptions_subscription_id_fk": {
          "name": "payments_subscription_id_subscriptions_subscription_id_fk",
          "tableFrom": "payments",
          "tableTo": "subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "subscription_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payments_refund_requested_by_tenants_tenant_id_fk": {
          "name": "payments_refund_requested_by_tenants_tenant_id_fk",
          "tableFrom": "payments",
          "tableTo": "tenants",
          "columnsFrom": [
            "refund_requested_by"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_entity_id": {
          "name": "parent_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_entity_type": {
          "name": "billing_entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "plan": {
          "name": "plan",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "trial_start": {
          "name": "trial_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_end": {
          "name": "trial_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_trial_user": {
          "name": "is_trial_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_ever_upgraded": {
          "name": "has_ever_upgraded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "first_upgrade_at": {
          "name": "first_upgrade_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_downgrade_at": {
          "name": "last_downgrade_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trial_toggled_off": {
          "name": "trial_toggled_off",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_reminder_sent_at": {
          "name": "last_reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_count": {
          "name": "reminder_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "restrictions_applied_at": {
          "name": "restrictions_applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_model": {
          "name": "billing_model",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'bulk_then_per_usage'"
        },
        "credit_allocation": {
          "name": "credit_allocation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "overage_limits": {
          "name": "overage_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"period\":\"day\",\"maxOps\":10000,\"allowOverage\":true}'::jsonb"
        },
        "discount_tiers_key": {
          "name": "discount_tiers_key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "subscribed_tools": {
          "name": "subscribed_tools",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "usage_limits": {
          "name": "usage_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "billing_cycle": {
          "name": "billing_cycle",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        },
        "monthly_price": {
          "name": "monthly_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "yearly_price": {
          "name": "yearly_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at": {
          "name": "cancel_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_at": {
          "name": "suspended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_reason": {
          "name": "suspended_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "add_ons": {
          "name": "add_ons",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscriptions_tenant_id_tenants_tenant_id_fk": {
          "name": "subscriptions_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_entity_id_entities_entity_id_fk": {
          "name": "subscriptions_entity_id_entities_entity_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_parent_entity_id_entities_entity_id_fk": {
          "name": "subscriptions_parent_entity_id_entities_entity_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "entities",
          "columnsFrom": [
            "parent_entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "custom_roles": {
      "name": "custom_roles",
      "schema": "",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "is_inheritable": {
          "name": "is_inheritable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "parent_role_id": {
          "name": "parent_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role_name": {
          "name": "role_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6b7280'"
        },
        "kinde_role_id": {
          "name": "kinde_role_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "kinde_role_key": {
          "name": "kinde_role_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "restrictions": {
          "name": "restrictions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "custom_roles_tenant_id_tenants_tenant_id_fk": {
          "name": "custom_roles_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "custom_roles",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_roles_organization_id_tenants_tenant_id_fk": {
          "name": "custom_roles_organization_id_tenants_tenant_id_fk",
          "tableFrom": "custom_roles",
          "tableTo": "tenants",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_roles_parent_role_id_custom_roles_role_id_fk": {
          "name": "custom_roles_parent_role_id_custom_roles_role_id_fk",
          "tableFrom": "custom_roles",
          "tableTo": "custom_roles",
          "columnsFrom": [
            "parent_role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_roles_created_by_tenant_users_user_id_fk": {
          "name": "custom_roles_created_by_tenant_users_user_id_fk",
          "tableFrom": "custom_roles",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_roles_last_modified_by_tenant_users_user_id_fk": {
          "name": "custom_roles_last_modified_by_tenant_users_user_id_fk",
          "tableFrom": "custom_roles",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "last_modified_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_role_assignments": {
      "name": "user_role_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "is_responsible_person": {
          "name": "is_responsible_person",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "inherited_from": {
          "name": "inherited_from",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_temporary": {
          "name": "is_temporary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "deactivated_at": {
          "name": "deactivated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deactivated_by": {
          "name": "deactivated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_role_assignments_user_id_tenant_users_user_id_fk": {
          "name": "user_role_assignments_user_id_tenant_users_user_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_role_assignments_role_id_custom_roles_role_id_fk": {
          "name": "user_role_assignments_role_id_custom_roles_role_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "custom_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_role_assignments_organization_id_tenants_tenant_id_fk": {
          "name": "user_role_assignments_organization_id_tenants_tenant_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "tenants",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_role_assignments_inherited_from_user_role_assignments_id_fk": {
          "name": "user_role_assignments_inherited_from_user_role_assignments_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "user_role_assignments",
          "columnsFrom": [
            "inherited_from"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_role_assignments_assigned_by_tenant_users_user_id_fk": {
          "name": "user_role_assignments_assigned_by_tenant_users_user_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_role_assignments_deactivated_by_tenant_users_user_id_fk": {
          "name": "user_role_assignments_deactivated_by_tenant_users_user_id_fk",
          "tableFrom": "user_role_assignments",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "deactivated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "usage_logs": {
      "name": "usage_logs",
      "schema": "",
      "columns": {
        "log_id": {
          "name": "log_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app": {
          "name": "app",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time": {
          "name": "response_time",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "operation_code": {
          "name": "operation_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "credit_consumed": {
          "name": "credit_consumed",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "credit_batch_id": {
          "name": "credit_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_mode": {
          "name": "pricing_mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'credits'"
        },
        "request_size": {
          "name": "request_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_size": {
          "name": "response_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "usage_logs_tenant_id_tenants_tenant_id_fk": {
          "name": "usage_logs_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "usage_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "usage_logs_user_id_tenant_users_user_id_fk": {
          "name": "usage_logs_user_id_tenant_users_user_id_fk",
          "tableFrom": "usage_logs",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "usage_logs_organization_id_tenants_tenant_id_fk": {
          "name": "usage_logs_organization_id_tenants_tenant_id_fk",
          "tableFrom": "usage_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "usage_metrics_daily": {
      "name": "usage_metrics_daily",
      "schema": "",
      "columns": {
        "metric_id": {
          "name": "metric_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app": {
          "name": "app",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "api_calls": {
          "name": "api_calls",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "storage_used": {
          "name": "storage_used",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "active_users": {
          "name": "active_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_requests": {
          "name": "total_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "credit_consumed": {
          "name": "credit_consumed",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "credit_batches_used": {
          "name": "credit_batches_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "avg_response_time": {
          "name": "avg_response_time",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "feature_usage": {
          "name": "feature_usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "usage_by_source": {
          "name": "usage_by_source",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "usage_metrics_daily_tenant_id_tenants_tenant_id_fk": {
          "name": "usage_metrics_daily_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "usage_metrics_daily",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "usage_metrics_daily_organization_id_tenants_tenant_id_fk": {
          "name": "usage_metrics_daily_organization_id_tenants_tenant_id_fk",
          "tableFrom": "usage_metrics_daily",
          "tableTo": "tenants",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "application_modules": {
      "name": "application_modules",
      "schema": "",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "app_id": {
          "name": "app_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "module_code": {
          "name": "module_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "module_name": {
          "name": "module_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_core": {
          "name": "is_core",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "application_modules_app_id_applications_app_id_fk": {
          "name": "application_modules_app_id_applications_app_id_fk",
          "tableFrom": "application_modules",
          "tableTo": "applications",
          "columnsFrom": [
            "app_id"
          ],
          "columnsTo": [
            "app_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "applications": {
      "name": "applications",
      "schema": "",
      "columns": {
        "app_id": {
          "name": "app_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "app_code": {
          "name": "app_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "app_name": {
          "name": "app_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "base_url": {
          "name": "base_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "is_core": {
          "name": "is_core",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "applications_app_code_unique": {
          "name": "applications_app_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "app_code"
          ]
        }
      }
    },
    "organization_applications": {
      "name": "organization_applications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app_id": {
          "name": "app_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "enabled_modules": {
          "name": "enabled_modules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "custom_permissions": {
          "name": "custom_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "license_count": {
          "name": "license_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organization_applications_tenant_id_tenants_tenant_id_fk": {
          "name": "organization_applications_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "organization_applications",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_applications_app_id_applications_app_id_fk": {
          "name": "organization_applications_app_id_applications_app_id_fk",
          "tableFrom": "organization_applications",
          "tableTo": "applications",
          "columnsFrom": [
            "app_id"
          ],
          "columnsTo": [
            "app_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_application_permissions": {
      "name": "user_application_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app_id": {
          "name": "app_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_application_permissions_user_id_tenant_users_user_id_fk": {
          "name": "user_application_permissions_user_id_tenant_users_user_id_fk",
          "tableFrom": "user_application_permissions",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_application_permissions_tenant_id_tenants_tenant_id_fk": {
          "name": "user_application_permissions_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "user_application_permissions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_application_permissions_app_id_applications_app_id_fk": {
          "name": "user_application_permissions_app_id_applications_app_id_fk",
          "tableFrom": "user_application_permissions",
          "tableTo": "applications",
          "columnsFrom": [
            "app_id"
          ],
          "columnsTo": [
            "app_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_application_permissions_module_id_application_modules_module_id_fk": {
          "name": "user_application_permissions_module_id_application_modules_module_id_fk",
          "tableFrom": "user_application_permissions",
          "tableTo": "application_modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "module_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_application_permissions_granted_by_tenant_users_user_id_fk": {
          "name": "user_application_permissions_granted_by_tenant_users_user_id_fk",
          "tableFrom": "user_application_permissions",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhook_logs": {
      "name": "webhook_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "webhook_logs_event_id_idx": {
          "name": "webhook_logs_event_id_idx",
          "columns": [
            "event_id"
          ],
          "isUnique": false
        },
        "webhook_logs_event_type_idx": {
          "name": "webhook_logs_event_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "webhook_logs_status_idx": {
          "name": "webhook_logs_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "webhook_logs_created_at_idx": {
          "name": "webhook_logs_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_logs_event_id_unique": {
          "name": "webhook_logs_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "event_id"
          ]
        }
      }
    },
    "event_tracking": {
      "name": "event_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stream_key": {
          "name": "stream_key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "source_application": {
          "name": "source_application",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_application": {
          "name": "target_application",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "published_by": {
          "name": "published_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_retryable": {
          "name": "is_retryable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_retry_at": {
          "name": "last_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "event_tracking_event_id_idx": {
          "name": "event_tracking_event_id_idx",
          "columns": [
            "event_id"
          ],
          "isUnique": false
        },
        "event_tracking_event_type_idx": {
          "name": "event_tracking_event_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "event_tracking_tenant_id_idx": {
          "name": "event_tracking_tenant_id_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "event_tracking_status_idx": {
          "name": "event_tracking_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "event_tracking_published_at_idx": {
          "name": "event_tracking_published_at_idx",
          "columns": [
            "published_at"
          ],
          "isUnique": false
        },
        "event_tracking_created_at_idx": {
          "name": "event_tracking_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "event_tracking_event_id_unique": {
          "name": "event_tracking_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "event_id"
          ]
        }
      }
    },
    "entities": {
      "name": "entities",
      "schema": "",
      "columns": {
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "parent_entity_id": {
          "name": "parent_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_level": {
          "name": "entity_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "entity_name": {
          "name": "entity_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_code": {
          "name": "entity_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_type": {
          "name": "organization_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "location_type": {
          "name": "location_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "department_type": {
          "name": "department_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "team_type": {
          "name": "team_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "coordinates": {
          "name": "coordinates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours": {
          "name": "business_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "branding_config": {
          "name": "branding_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "responsible_person_id": {
          "name": "responsible_person_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "credit_allocation": {
          "name": "credit_allocation",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "credit_policy": {
          "name": "credit_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"allowCreditAllocation\":true,\"maxCreditAllocation\":null,\"creditExpiryPolicy\":{\"enabled\":true,\"defaultDays\":365},\"allowOverage\":true,\"overageLimit\":10000,\"overagePeriod\":\"day\"}'::jsonb"
        },
        "inherit_settings": {
          "name": "inherit_settings",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "inherit_branding": {
          "name": "inherit_branding",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "inherit_credits": {
          "name": "inherit_credits",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"notifications\":true,\"autoBackup\":true,\"features\":{}}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_headquarters": {
          "name": "is_headquarters",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarded_at": {
          "name": "onboarded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "hierarchy_path": {
          "name": "hierarchy_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_hierarchy_path": {
          "name": "full_hierarchy_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "entities_tenant_id_tenants_tenant_id_fk": {
          "name": "entities_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "entities",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entities_parent_entity_id_entities_entity_id_fk": {
          "name": "entities_parent_entity_id_entities_entity_id_fk",
          "tableFrom": "entities",
          "tableTo": "entities",
          "columnsFrom": [
            "parent_entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entities_responsible_person_id_tenant_users_user_id_fk": {
          "name": "entities_responsible_person_id_tenant_users_user_id_fk",
          "tableFrom": "entities",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "responsible_person_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entities_created_by_tenant_users_user_id_fk": {
          "name": "entities_created_by_tenant_users_user_id_fk",
          "tableFrom": "entities",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entities_updated_by_tenant_users_user_id_fk": {
          "name": "entities_updated_by_tenant_users_user_id_fk",
          "tableFrom": "entities",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "entities_entity_code_unique": {
          "name": "entities_entity_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "entity_code"
          ]
        }
      }
    },
    "membership_history": {
      "name": "membership_history",
      "schema": "",
      "columns": {
        "history_id": {
          "name": "history_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "membership_id": {
          "name": "membership_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_source": {
          "name": "change_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "membership_history_membership_id_organization_memberships_membership_id_fk": {
          "name": "membership_history_membership_id_organization_memberships_membership_id_fk",
          "tableFrom": "membership_history",
          "tableTo": "organization_memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "membership_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "membership_history_entity_id_entities_entity_id_fk": {
          "name": "membership_history_entity_id_entities_entity_id_fk",
          "tableFrom": "membership_history",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_history_changed_by_tenant_users_user_id_fk": {
          "name": "membership_history_changed_by_tenant_users_user_id_fk",
          "tableFrom": "membership_history",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "membership_invitations": {
      "name": "membership_invitations",
      "schema": "",
      "columns": {
        "invitation_id": {
          "name": "invitation_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "membership_id": {
          "name": "membership_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invited_user_id": {
          "name": "invited_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invited_email": {
          "name": "invited_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "invitation_token": {
          "name": "invitation_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "declined_at": {
          "name": "declined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_url": {
          "name": "invitation_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "membership_invitations_membership_id_organization_memberships_membership_id_fk": {
          "name": "membership_invitations_membership_id_organization_memberships_membership_id_fk",
          "tableFrom": "membership_invitations",
          "tableTo": "organization_memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "membership_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "membership_invitations_invited_user_id_tenant_users_user_id_fk": {
          "name": "membership_invitations_invited_user_id_tenant_users_user_id_fk",
          "tableFrom": "membership_invitations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "invited_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_invitations_entity_id_entities_entity_id_fk": {
          "name": "membership_invitations_entity_id_entities_entity_id_fk",
          "tableFrom": "membership_invitations",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_invitations_role_id_custom_roles_role_id_fk": {
          "name": "membership_invitations_role_id_custom_roles_role_id_fk",
          "tableFrom": "membership_invitations",
          "tableTo": "custom_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_invitations_invited_by_tenant_users_user_id_fk": {
          "name": "membership_invitations_invited_by_tenant_users_user_id_fk",
          "tableFrom": "membership_invitations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "membership_invitations_invitation_token_unique": {
          "name": "membership_invitations_invitation_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invitation_token"
          ]
        }
      }
    },
    "organization_memberships": {
      "name": "organization_memberships",
      "schema": "",
      "columns": {
        "membership_id": {
          "name": "membership_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'organization'"
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role_name": {
          "name": "role_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "membership_type": {
          "name": "membership_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'direct'"
        },
        "membership_status": {
          "name": "membership_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "can_access_sub_entities": {
          "name": "can_access_sub_entities",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "credit_permissions": {
          "name": "credit_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"canPurchaseCredits\":false,\"canTransferCredits\":false,\"canApproveTransfers\":false,\"canViewCreditUsage\":true,\"creditLimit\":null}'::jsonb"
        },
        "is_temporary": {
          "name": "is_temporary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "department": {
          "name": "department",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "team": {
          "name": "team",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_id": {
          "name": "employee_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_override": {
          "name": "contact_override",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"notifications\":{\"email\":true,\"sms\":false,\"push\":true},\"dashboard\":{\"theme\":\"default\",\"layout\":\"standard\"}}'::jsonb"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organization_memberships_user_id_tenant_users_user_id_fk": {
          "name": "organization_memberships_user_id_tenant_users_user_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "organization_memberships_tenant_id_tenants_tenant_id_fk": {
          "name": "organization_memberships_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_memberships_entity_id_entities_entity_id_fk": {
          "name": "organization_memberships_entity_id_entities_entity_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_memberships_role_id_custom_roles_role_id_fk": {
          "name": "organization_memberships_role_id_custom_roles_role_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "custom_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_memberships_invited_by_tenant_users_user_id_fk": {
          "name": "organization_memberships_invited_by_tenant_users_user_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_memberships_created_by_tenant_users_user_id_fk": {
          "name": "organization_memberships_created_by_tenant_users_user_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_memberships_updated_by_tenant_users_user_id_fk": {
          "name": "organization_memberships_updated_by_tenant_users_user_id_fk",
          "tableFrom": "organization_memberships",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_transactions": {
      "name": "credit_transactions",
      "schema": "",
      "columns": {
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "previous_balance": {
          "name": "previous_balance",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "new_balance": {
          "name": "new_balance",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "operation_code": {
          "name": "operation_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_transactions_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_transactions_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_transactions_entity_id_entities_entity_id_fk": {
          "name": "credit_transactions_entity_id_entities_entity_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_transactions_initiated_by_tenant_users_user_id_fk": {
          "name": "credit_transactions_initiated_by_tenant_users_user_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credits": {
      "name": "credits",
      "schema": "",
      "columns": {
        "credit_id": {
          "name": "credit_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "available_credits": {
          "name": "available_credits",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "reserved_credits": {
          "name": "reserved_credits",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credits_tenant_id_tenants_tenant_id_fk": {
          "name": "credits_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credits",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credits_entity_id_entities_entity_id_fk": {
          "name": "credits_entity_id_entities_entity_id_fk",
          "tableFrom": "credits",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_purchases": {
      "name": "credit_purchases",
      "schema": "",
      "columns": {
        "purchase_id": {
          "name": "purchase_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "credited_at": {
          "name": "credited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_purchases_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_purchases_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_purchases",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_purchases_entity_id_entities_entity_id_fk": {
          "name": "credit_purchases_entity_id_entities_entity_id_fk",
          "tableFrom": "credit_purchases",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_purchases_requested_by_tenant_users_user_id_fk": {
          "name": "credit_purchases_requested_by_tenant_users_user_id_fk",
          "tableFrom": "credit_purchases",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "credit_purchases_batch_id_unique": {
          "name": "credit_purchases_batch_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "batch_id"
          ]
        }
      }
    },
    "credit_usage": {
      "name": "credit_usage",
      "schema": "",
      "columns": {
        "usage_id": {
          "name": "usage_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "operation_code": {
          "name": "operation_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "operation_id": {
          "name": "operation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "credits_debited": {
          "name": "credits_debited",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_usage_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_usage_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_usage",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_usage_entity_id_entities_entity_id_fk": {
          "name": "credit_usage_entity_id_entities_entity_id_fk",
          "tableFrom": "credit_usage",
          "tableTo": "entities",
          "columnsFrom": [
            "entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_usage_user_id_tenant_users_user_id_fk": {
          "name": "credit_usage_user_id_tenant_users_user_id_fk",
          "tableFrom": "credit_usage",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_configurations": {
      "name": "credit_configurations",
      "schema": "",
      "columns": {
        "config_id": {
          "name": "config_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "operation_code": {
          "name": "operation_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "is_global": {
          "name": "is_global",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "credit_cost": {
          "name": "credit_cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'operation'"
        },
        "unit_multiplier": {
          "name": "unit_multiplier",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "operation_name": {
          "name": "operation_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "free_allowance": {
          "name": "free_allowance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "free_allowance_period": {
          "name": "free_allowance_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "volume_tiers": {
          "name": "volume_tiers",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "allow_overage": {
          "name": "allow_overage",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "overage_limit": {
          "name": "overage_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overage_period": {
          "name": "overage_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "overage_cost": {
          "name": "overage_cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'global'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_credit_config": {
          "name": "unique_credit_config",
          "columns": [
            "tenant_id",
            "operation_code"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "credit_configurations_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_configurations_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_configurations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_configurations_created_by_tenant_users_user_id_fk": {
          "name": "credit_configurations_created_by_tenant_users_user_id_fk",
          "tableFrom": "credit_configurations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_configurations_updated_by_tenant_users_user_id_fk": {
          "name": "credit_configurations_updated_by_tenant_users_user_id_fk",
          "tableFrom": "credit_configurations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_allocation_transactions": {
      "name": "credit_allocation_transactions",
      "schema": "",
      "columns": {
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "allocation_id": {
          "name": "allocation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "previous_allocated": {
          "name": "previous_allocated",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "new_allocated": {
          "name": "new_allocated",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "previous_used": {
          "name": "previous_used",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "new_used": {
          "name": "new_used",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "operation_code": {
          "name": "operation_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_allocation_transactions_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_allocation_transactions_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_allocation_transactions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_allocation_transactions_allocation_id_credit_allocations_allocation_id_fk": {
          "name": "credit_allocation_transactions_allocation_id_credit_allocations_allocation_id_fk",
          "tableFrom": "credit_allocation_transactions",
          "tableTo": "credit_allocations",
          "columnsFrom": [
            "allocation_id"
          ],
          "columnsTo": [
            "allocation_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_allocation_transactions_initiated_by_tenant_users_user_id_fk": {
          "name": "credit_allocation_transactions_initiated_by_tenant_users_user_id_fk",
          "tableFrom": "credit_allocation_transactions",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_allocations": {
      "name": "credit_allocations",
      "schema": "",
      "columns": {
        "allocation_id": {
          "name": "allocation_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_entity_id": {
          "name": "source_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_application": {
          "name": "target_application",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_credits": {
          "name": "allocated_credits",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "used_credits": {
          "name": "used_credits",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "available_credits": {
          "name": "available_credits",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "allocation_type": {
          "name": "allocation_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "allocation_purpose": {
          "name": "allocation_purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "allocated_at": {
          "name": "allocated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_replenish": {
          "name": "auto_replenish",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allocated_by": {
          "name": "allocated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_allocations_tenant_id_tenants_tenant_id_fk": {
          "name": "credit_allocations_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "credit_allocations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_allocations_source_entity_id_entities_entity_id_fk": {
          "name": "credit_allocations_source_entity_id_entities_entity_id_fk",
          "tableFrom": "credit_allocations",
          "tableTo": "entities",
          "columnsFrom": [
            "source_entity_id"
          ],
          "columnsTo": [
            "entity_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_allocations_allocated_by_tenant_users_user_id_fk": {
          "name": "credit_allocations_allocated_by_tenant_users_user_id_fk",
          "tableFrom": "credit_allocations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "allocated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credit_allocations_updated_by_tenant_users_user_id_fk": {
          "name": "credit_allocations_updated_by_tenant_users_user_id_fk",
          "tableFrom": "credit_allocations",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "responsibility_history": {
      "name": "responsibility_history",
      "schema": "",
      "columns": {
        "history_id": {
          "name": "history_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_source": {
          "name": "change_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "responsibility_history_assignment_id_responsible_persons_assignment_id_fk": {
          "name": "responsibility_history_assignment_id_responsible_persons_assignment_id_fk",
          "tableFrom": "responsibility_history",
          "tableTo": "responsible_persons",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "assignment_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "responsibility_history_changed_by_tenant_users_user_id_fk": {
          "name": "responsibility_history_changed_by_tenant_users_user_id_fk",
          "tableFrom": "responsibility_history",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "responsibility_notifications": {
      "name": "responsibility_notifications",
      "schema": "",
      "columns": {
        "notification_id": {
          "name": "notification_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "action_required": {
          "name": "action_required",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "action_url": {
          "name": "action_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "action_deadline": {
          "name": "action_deadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "responsibility_notifications_assignment_id_responsible_persons_assignment_id_fk": {
          "name": "responsibility_notifications_assignment_id_responsible_persons_assignment_id_fk",
          "tableFrom": "responsibility_notifications",
          "tableTo": "responsible_persons",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "assignment_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "responsible_persons": {
      "name": "responsible_persons",
      "schema": "",
      "columns": {
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "responsibility_level": {
          "name": "responsibility_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'primary'"
        },
        "scope": {
          "name": "scope",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"creditManagement\":true,\"userManagement\":true,\"auditAccess\":true,\"configurationManagement\":true,\"reportingAccess\":true}'::jsonb"
        },
        "auto_permissions": {
          "name": "auto_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"canApproveTransfers\":true,\"canPurchaseCredits\":true,\"canManageUsers\":true,\"canViewAllAuditLogs\":true,\"canConfigureEntity\":true,\"canGenerateReports\":true}'::jsonb"
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"creditAlerts\":true,\"userActivities\":true,\"systemAlerts\":true,\"weeklyReports\":true,\"monthlyReports\":true}'::jsonb"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "assignment_reason": {
          "name": "assignment_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_temporary": {
          "name": "is_temporary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_expire": {
          "name": "auto_expire",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_confirmed": {
          "name": "is_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "can_delegate": {
          "name": "can_delegate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "delegation_limits": {
          "name": "delegation_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_emergency_contact": {
          "name": "is_emergency_contact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "emergency_contact_order": {
          "name": "emergency_contact_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "responsible_persons_tenant_id_tenants_tenant_id_fk": {
          "name": "responsible_persons_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "responsible_persons",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "responsible_persons_user_id_tenant_users_user_id_fk": {
          "name": "responsible_persons_user_id_tenant_users_user_id_fk",
          "tableFrom": "responsible_persons",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "responsible_persons_assigned_by_tenant_users_user_id_fk": {
          "name": "responsible_persons_assigned_by_tenant_users_user_id_fk",
          "tableFrom": "responsible_persons",
          "tableTo": "tenant_users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}